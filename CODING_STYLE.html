<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Coding Style Guide • odyssey</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script>




<meta property="og:title" content="Coding Style Guide" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@nfrerebeau" />
<meta name="twitter:site" content="@nfrerebeau" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">odyssey</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/nfrerebeau/odyssey/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>Coding Style Guide</h1>
    </div>

<div id="coding-style-guide" class="section level1">

<div id="general-rules" class="section level2">
<h2 class="hasAnchor">
<a href="#general-rules" class="anchor"></a>General Rules</h2>
<ul>
<li>Use <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> for assignment, NOT <code><a href="https://rdrr.io/r/base/assignOps.html">=</a></code>.</li>
</ul>
<pre class="{r}"><code># GOOD
x &lt;- 1

# BAD
x = 1
1 -&gt; 1</code></pre>
<ul>
<li>In a function call, specify arguments by name. Never specify by partial name and never mix by position and complete name.</li>
</ul>
<pre class="{r}"><code><a href="https://rdrr.io/r/base/mean.html"># GOOD
mean(x, na.rm = TRUE)

# BAD
mean(x, na = TRUE)</a></code></pre>
<ul>
<li>The required arguments should be first, followed by optional arguments.</li>
</ul>
<pre class="{r}"><code># GOOD
raise_to_power(x, power = 2.7)

# BAD
raise_to_power(power = 2.7, x)</code></pre>
<ul>
<li>The <code>...</code> argument should either be in the beginning or in the end.</li>
</ul>
<pre class="{r}"><code># GOOD
standardize(..., scale = TRUE, center = TRUE)

# BAD
standardize(scale = TRUE, ..., center = TRUE)</code></pre>
<ul>
<li>Set default arguments inside the function using <code>NULL</code> idiom, and avoid dependence between arguments.</li>
<li>Always validate arguments in a function.</li>
<li>Specify the namespace of each used function, except if it is from <code>base</code> package.</li>
</ul>
<pre class="{r}"><code># GOOD
ggplot2::ggplot()
dplyr::select()

# BAD 
ggplot()
select()</code></pre>
<ul>
<li>Do NOT put more than one statement per line. Do NOT use semicolon as termination of the command.</li>
</ul>
<pre class="{r}"><code># GOOD
x &lt;- 1
x &lt;- x + 1

# BAD 
x &lt;- 1; x &lt;- x + 1</code></pre>
</div>
<div id="naming" class="section level2">
<h2 class="hasAnchor">
<a href="#naming" class="anchor"></a>Naming</h2>
<p>As a general rule, abbreviations must be avoided when naming.</p>
<div id="naming-files" class="section level3">
<h3 class="hasAnchor">
<a href="#naming-files" class="anchor"></a>Naming Files</h3>
<ul>
<li>File names must use <code>.R</code> extension.</li>
</ul>
<pre class="{r}"><code># GOOD
plot.R

# BAD
plot</code></pre>
<ul>
<li>File names must be meaningful.</li>
</ul>
<pre class="{r}"><code># GOOD
plot.R

# BAD
Untitled1.R</code></pre>
<ul>
<li>File names must not contain <code><a href="https://rdrr.io/r/base/Arithmetic.html">/</a></code> and spaces. Instead, a dash (<code><a href="https://rdrr.io/r/base/Arithmetic.html">-</a></code>) or underscore (<code>_</code>) must be used.</li>
</ul>
<pre class="{r}"><code># GOOD
read_csv.R
plot-methods.R

# BAD
read csv.R</code></pre>
<ul>
<li>File names must use letters from Basic Latin, NOT from Latin-1 Supplement, and must be lowercase.</li>
</ul>
<pre class="{r}"><code># GOOD
plot.R

# BAD
Plot.R
données.R</code></pre>
<ul>
<li>Use meaningful verbs for file names.</li>
</ul>
<pre class="{r}"><code># GOOD
fit_model.R

# BAD
addition.R</code></pre>
<ul>
<li>Mind special names:
<ul>
<li>
<code>AllClasses.R</code> stores all S4 classes definitions.</li>
<li>
<code>AllGenerics.R</code> stores all S4 generic functions.</li>
<li>
<code>zzz.R</code> contains <code><a href="https://rdrr.io/r/base/ns-hooks.html">.onLoad()</a></code> and friends.</li>
</ul>
</li>
<li>Use the <code>-methods</code> suffix for S4 class methods.</li>
<li>If the file contains only one function, name it by the function name.</li>
</ul>
</div>
<div id="naming-variables" class="section level3">
<h3 class="hasAnchor">
<a href="#naming-variables" class="anchor"></a>Naming Variables</h3>
<ul>
<li>Variables names must be as short as possible.</li>
<li>Variables names must be meaningful nouns.</li>
<li>Variable names must be lowercase.</li>
<li>Never separate words within the name by <code>.</code> (reserved for an S3 dispatch) or use PascalCase (reserved for S4 classes definitions). Instead, use an underscore (<code>_</code>).</li>
</ul>
<pre class="{r}"><code># GOOD
std_dev &lt;- 3

# BAD
std.dev &lt;- 3
StdDev &lt;- 3</code></pre>
<ul>
<li>Do not use names of existing function and variables (especially, built-in ones).</li>
</ul>
<pre class="{r}"><code># GOOD
std_dev &lt;- 3

# BAD
T &lt;- 1
c &lt;- 2 * 2
mean &lt;- 10</code></pre>
</div>
<div id="naming-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#naming-functions" class="anchor"></a>Naming Functions</h3>
<ul>
<li>Function names must contain a verb that refers to the primary action of the function.</li>
<li>Function names must be in snake_case. Use <code>.</code> only for dispatching S3 generic.</li>
<li>An <code>object_verb()</code> naming scheme should be prefered as often as possible. This scheme is easy to read and auto-complete.</li>
</ul>
<pre class="{r}"><code># GOOD
peak_detect()

# BAD
addition()
readFile()</code></pre>
<ul>
<li>Avoid function name conflicts with base packages or other popular ones.</li>
</ul>
</div>
<div id="naming-s4-classes" class="section level3">
<h3 class="hasAnchor">
<a href="#naming-s4-classes" class="anchor"></a>Naming S4 Classes</h3>
<ul>
<li>Class names must be nouns in PascalCase with initial capital case letter and the first letter of each subsequent concatenated word capitalized.</li>
</ul>
</div>
</div>
<div id="syntax" class="section level2">
<h2 class="hasAnchor">
<a href="#syntax" class="anchor"></a>Syntax</h2>
<div id="line-length" class="section level3">
<h3 class="hasAnchor">
<a href="#line-length" class="anchor"></a>Line Length</h3>
<ul>
<li>The maximum length of lines is limited to 80 characters.</li>
</ul>
</div>
<div id="spacing" class="section level3">
<h3 class="hasAnchor">
<a href="#spacing" class="anchor"></a>Spacing</h3>
<ul>
<li>Put spaces around all infix binary operators (<code><a href="https://rdrr.io/r/base/assignOps.html">=</a></code>, <code><a href="https://rdrr.io/r/base/Arithmetic.html">+</a></code>, <code><a href="https://rdrr.io/r/base/Arithmetic.html">*</a></code>, <code><a href="https://rdrr.io/r/base/Comparison.html">==</a></code>, <code><a href="https://rdrr.io/r/base/Logic.html">&amp;&amp;</a></code>, <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code>, <code><a href="https://rdrr.io/r/base/matmult.html">%*%</a></code>, etc.).</li>
</ul>
<pre class="{r}"><code># GOOD 
x == y
z &lt;- 2 + 1

# BAD
x==y
z&lt;-2+1</code></pre>
<ul>
<li>Put spaces around <code><a href="https://rdrr.io/r/base/assignOps.html">=</a></code> in function calls.</li>
</ul>
<pre class="{r}"><code><a href="https://rdrr.io/r/base/mean.html"># GOOD 
mean(x = c(1, 2, 3), na.rm = TRUE)

# BAD
mean(x=c(1, 2, NA), na.rm=TRUE)</a></code></pre>
<ul>
<li>Do not place space for subsetting (<code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> and <code><a href="https://rdrr.io/r/base/slotOp.html">@</a></code>), namespace manipulation (<code><a href="https://rdrr.io/r/base/ns-dblcolon.html">::</a></code> and <code><a href="https://rdrr.io/r/base/ns-dblcolon.html">:::</a></code>), and for sequence generation (<code><a href="https://rdrr.io/r/base/Colon.html">:</a></code>).</li>
</ul>
<pre class="{r}"><code># GOOD
car$cyl
dplyr::select()
1:10

# BAD
car $cyl
dplyr:: select()
1: 10</code></pre>
<ul>
<li>Put a space after a comma.</li>
</ul>
<pre class="{r}"><code># GOOD 
mtcars[1, ]
mean(x = c(1, NA, 2), na.rm = TRUE)

# BAD
mtcars[1 ,]
mean(x = c(1,NA,2),na.rm = TRUE)</code></pre>
<ul>
<li>Use a space before left parentheses, except in a function call.</li>
</ul>
<pre class="{r}"><code># GOOD 
for (element in element_list)
if (total == 5)
sum(1:10)

# BAD
for(element in element_list)
if(total == 5)
sum (1:10)</code></pre>
<ul>
<li>No spacing around code in parenthesis or square brackets.</li>
</ul>
<pre class="{r}"><code># GOOD 
if (is_true) message("Hello!")
species["tiger", ]

# BAD
if ( is_true ) message("Hello!")
species[ "tiger" ,]</code></pre>
</div>
<div id="curly-braces" class="section level3">
<h3 class="hasAnchor">
<a href="#curly-braces" class="anchor"></a>Curly Braces</h3>
<ul>
<li>An opening curly brace should never go on its own line and should always be followed by a new line.</li>
</ul>
<pre class="{r}"><code># GOOD 
if (is_true) {
  # do something
}

if (is_true) {
  # do something
} else {
  # do something else
}
    
# BAD
if (is_true)
{
  # do something
}
    
if (is_true) { # do something }
else { # do something else }</code></pre>
<ul>
<li>A closing curly brace should always go on its own line, unless it’s followed by <code>else</code>.</li>
</ul>
<pre class="{r}"><code># GOOD 
if (is_true) {
  # do something
} else {
  # do something else
}

# BAD
if (is_true) {
  # do something
}
else {
  # do something else 
}</code></pre>
<ul>
<li>Always indent the code inside curly braces.</li>
</ul>
<pre class="{r}"><code># GOOD 
if (is_true) {
  # do something
  # and then something else
}
    
# BAD
if (is_true) {
# do something
# and then something else
}</code></pre>
<ul>
<li>Curly braces and new lines can be avoided, if a statement after <code>if</code> is very short.</li>
</ul>
<pre class="{r}"><code># Good 
if (is_true) return(value)</code></pre>
</div>
<div id="indentation" class="section level3">
<h3 class="hasAnchor">
<a href="#indentation" class="anchor"></a>Indentation</h3>
<ul>
<li>Do not use tabs or mixes of tabs and spaces for indentation.</li>
<li>Use two spaces for indentation.</li>
</ul>
</div>
<div id="new-line" class="section level3">
<h3 class="hasAnchor">
<a href="#new-line" class="anchor"></a>New Line</h3>
<ul>
<li>In a function definition or call excessive arguments must be indented where the closing parenthesis is located, if only two lines are sufficient.</li>
</ul>
<pre class="{r}"><code># GOOD
long_function_name &lt;- function(arg1, arg2, arg3, arg4, 
                               long_argument_name1 = TRUE)
                               
plot(table(rpois(100, 5)), type = "h", col = "red", lwd = 10, 
     main = "rpois(100, lambda = 5)")</code></pre>
<ul>
<li>Otherwise, each argument can go into a separate line, starting with a new line after the opening parenthesis.</li>
</ul>
<pre class="{r}"><code># GOOD
long_function_name &lt;- function(long_argument_name1 = c("value1", "value2"),
                               long_argument_name2 = TRUE,
                               long_argument_name3 = NULL,
                               long_argument_name4 = FALSE)

list(
  mean = mean(x),
  sd = sd(x),
  var = var(x),
  min = min(x),
  max = max(x),
  median = median(x)
)</code></pre>
<ul>
<li>If the condition in <code>if</code> statement expands into several lines, than each condition must end with a logical operator, NOT start with it.</li>
</ul>
<pre class="{r}"><code># GOOD
if (some_very_long_name_1 == 1 &amp;&amp;
    some_very_long_name_2 == 1 ||
    some_very_long_name_3 %in% some_very_long_name_4)

# BAD
if (some_very_long_name_1 == 1
    &amp;&amp; some_very_long_name_2 == 1
    || some_very_long_name_3 %in% some_very_long_name_4)</code></pre>
<ul>
<li>If the statement, which contains operators, expands into several lines, then each line should end with an operator and not begin with it.</li>
</ul>
<pre class="{r}"><code># GOOD 
normal_pdf &lt;- 1 / sqrt(2 * pi * d_sigma ^ 2) *
  exp(-(x - d_mean) ^ 2 / 2 / s ^ 2)

# BAD
normal_pdf &lt;- 1 / sqrt(2 * pi * d_sigma ^ 2)
  * exp(-(x - d_mean) ^ 2 / 2 / d_sigma ^ 2)</code></pre>
<ul>
<li>Each grammar statement of <code>dplyr</code> (after <code>%&gt;%</code>) and <code>ggplot2</code> (after <code><a href="https://rdrr.io/r/base/Arithmetic.html">+</a></code>) should start with a new line.</li>
</ul>
</div>
<div id="comments" class="section level3">
<h3 class="hasAnchor">
<a href="#comments" class="anchor"></a>Comments</h3>
<ul>
<li>Comments start with <code>#</code> followed by space and text of the comment.</li>
</ul>
<pre class="{r}"><code># This is a comment.</code></pre>
<ul>
<li>Comments should explain the why, not the what. Comments should explain the overall intention of the command.</li>
</ul>
<pre class="{r}"><code># GOOD
# define iterator
i &lt;- 1
    
# BAD
# set i to 1
i &lt;- 1</code></pre>
<ul>
<li>Short comments can be placed on the same line of the code.</li>
</ul>
<pre class="{r}"><code><a href="https://rdrr.io/r/graphics/plot.default.html">plot(price, weight) # Plot a scatter chart of price and weight</a></code></pre>
<ul>
<li>It makes sense to split the source into logical chunks by <code>#</code> followed by <code><a href="https://rdrr.io/r/base/Arithmetic.html">-</a></code> or <code><a href="https://rdrr.io/r/base/assignOps.html">=</a></code>.</li>
</ul>
<pre class="{r}"><code># Read data --------------------------------------------------------------------
    
# Clean data -------------------------------------------------------------------</code></pre>
<p>This coding style guide is adapted from the the <a href="http://style.tidyverse.org">tidyverse style guide</a>, the <a href="https://devguide.ropensci.org">rOpenSci Packages book</a> and Iegor Rudnytskyi’s <a href="https://irudnyts.github.io/r-coding-style-guide/">R Coding Style Guide</a>.</p>
</div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>



      <footer>
      <div class="copyright">
  <p>Developed by Nicolas Frerebeau.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


